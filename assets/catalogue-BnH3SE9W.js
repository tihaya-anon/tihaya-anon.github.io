import{j as o}from"./vendor_react_jsx-runtime.js_commonjs-es-import-CRFS_H0z.js";import{c as u,S as v}from"./index-CzSy3jpw.js";import{r as p}from"./vendor_react_index.js_commonjs-es-import-Dw0Sl0kA.js";import{u as x}from"./use-reactive-scroll-bar-Bn7hhTiD.js";import"./vendor_react_jsx-runtime.js-CaAktsAJ.js";import"./vendor_react_jsx-runtime.js_commonjs-module-DrftVG1b.js";import"./vendor_react_cjs_react-jsx-runtime.production.js-eETAB5Al.js";import"./vendor_react_cjs_react-jsx-runtime.production.js_commonjs-exports-Y3wesJj2.js";import"./vendor_react-dom_client.js_commonjs-es-import-DakJ2hgu.js";import"./vendor_react-dom_client.js-BzXBLVw6.js";import"./vendor_react-dom_client.js_commonjs-module-Dz70iIzG.js";import"./vendor_react-dom_cjs_react-dom-client.production.js-Ccqg5F12.js";import"./vendor_react-dom_cjs_react-dom-client.production.js_commonjs-exports-Y3wesJj2.js";import"./vendor_scheduler_index.js-B7-Q9Yd5.js";import"./vendor_scheduler_index.js_commonjs-module-FUNcL9I0.js";import"./vendor_scheduler_cjs_scheduler.production.js-xp1shC5h.js";import"./vendor_scheduler_cjs_scheduler.production.js_commonjs-exports-CXnJwLpf.js";import"./vendor_react_index.js-Drm3OuAA.js";import"./vendor_react_index.js_commonjs-module-DhgsKDqp.js";import"./vendor_react_cjs_react.production.js-D2dYT6pU.js";import"./vendor_react_cjs_react.production.js_commonjs-exports-Y3wesJj2.js";import"./vendor_react-dom_index.js-CyQwnsD2.js";import"./vendor_react-dom_index.js_commonjs-module-DhgsKDqp.js";import"./vendor_react-dom_cjs_react-dom.production.js-D7LXlrPf.js";import"./vendor_react-dom_cjs_react-dom.production.js_commonjs-exports-Y3wesJj2.js";import"./vendor__radix-ui_react-slot_dist_index.mjs_undefined-D3ZM2AWI.js";import"./vendor__radix-ui_react-compose-refs_dist_index.mjs_undefined-Ccbbv5wq.js";import"./vendor_class-variance-authority_dist_index.mjs-QU3RNBL6.js";import"./vendor_clsx_dist_clsx.mjs-B-dksMZM.js";import"./vendor_tailwind-merge_dist_bundle-mjs.mjs-D6B6e0vX.js";import"./vendor_lucide-react_dist_esm_icons_moon.js-BeiDitRg.js";import"./vendor_lucide-react_dist_esm_createLucideIcon.js-y9d1XMpi.js";import"./vendor_lucide-react_dist_esm_shared_src_utils.js-DMyOBWuq.js";import"./vendor_lucide-react_dist_esm_Icon.js-DOaX7IY-.js";import"./vendor_lucide-react_dist_esm_defaultAttributes.js-mhLtDFsA.js";import"./vendor_lucide-react_dist_esm_icons_sun.js-ZdvVATSn.js";import"./vendor_react-router_dist_development_chunk-PVWAREVJ.mjs-C5X9k845.js";import"./vendor_lucide-react_dist_esm_icons_book.js-C_axHCYa.js";import"./vendor_lucide-react_dist_esm_icons_user.js-DvZR8OaU.js";import"./vendor_react-syntax-highlighter_dist_esm_async-languages_hljs.js-BXl3LOEh.js";import"./vendor_comma-separated-tokens_index.js-DIoklWKI.js";import"./vendor_comma-separated-tokens_index.js_commonjs-exports-CmYd1H8K.js";function b({node:r,anchor:s,active:a=!1,onClick:c}){const l=r.attributes?.level,[d,e]=p.useState(a),[n,t]=p.useState(!1),i=l?l-1:0;p.useEffect(()=>{e(a)},[a]);const m=h=>{h.preventDefault();const f=document.getElementById(s);f&&(f.scrollIntoView({behavior:"smooth",block:"start"}),window.history.pushState(null,"",`#${s}`),e(!0)),c?.()};return o.jsx("div",{className:u("py-1 transition-colors duration-200",d?"text-primary font-medium":"hover:cursor-pointer"),onClick:m,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:o.jsxs("div",{style:{paddingLeft:`${i*1}rem`},className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:o.jsx(v,{className:u(d?"stroke-primary":n&&"stroke-primary/50"),animation:"none",strokeWidth:1})}),o.jsx("a",{onClick:m,className:u("px-2 line-clamp-3 text-sm"),children:r.children&&r.children[0].content})]})})}function mt({doc:r}){const s=p.useMemo(()=>r.children?r.children.filter(e=>e.type==="heading"):[],[r.children]),[a,c]=p.useState("");p.useEffect(()=>{if(typeof window>"u"||!window.IntersectionObserver){console.warn("IntersectionObserver not supported");return}const e=s.map(t=>{const i=t.attributes?.id;return{id:i,element:document.getElementById(i)}}).filter(t=>t.element&&t.id);if(e.length===0)return;c(e[0].id);const n=new IntersectionObserver(t=>{const i=t.filter(m=>m.isIntersecting).map(m=>m.target.id);i.length>0&&c(i[0])},{threshold:.3,rootMargin:"-100px 0px -66% 0px"});return e.forEach(({element:t})=>{t&&n.observe(t)}),()=>{e.forEach(({element:t})=>{t&&n.unobserve(t)})}},[s]);const{ref:l,resetCN:d}=x();return o.jsx("div",{ref:l,className:u("",d),children:s.map((e,n)=>o.jsx(b,{node:e,anchor:e.attributes?.id,active:a===e.attributes?.id,onClick:()=>c(e.attributes?.id)},n))})}export{mt as default};
//# sourceMappingURL=catalogue-BnH3SE9W.js.map
