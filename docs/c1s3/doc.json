{"type":"document","children":[{"type":"heading","children":[{"type":"text","content":"Scalablity "},{"type":"inlineCode","content":"#p10"}],"attributes":{"id":"scalablity","level":1}},{"type":"blockQuote","children":[{"type":"paragraph","children":[{"type":"text","content":"Even if a system is working reliably today, that doesn’t mean it will necessarily work reliably in the future."}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Scalability"}]},{"type":"text","content":" is the term used to describe a system’s ability to cope with increased load. Therefore, the first thing is to describe load"}]},{"type":"heading","children":[{"type":"text","content":"Describing Load "},{"type":"inlineCode","content":"#p11"}],"attributes":{"id":"describing-load","level":2}},{"type":"paragraph","children":[{"type":"text","content":"Load can be described with a few numbers called load parameters. e.g.,"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"requests per second"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"ratio of reads to writes in a DB"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"hit rate on a cache"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"..."}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"heading","children":[{"type":"text","content":"Describing Performance "},{"type":"inlineCode","content":"#p13"}],"attributes":{"id":"describing-performance","level":2}},{"type":"paragraph","children":[{"type":"text","content":"When load changes, there are two ways to think:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"keep the system resources unchanged, how the performance will be affected by the load"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"to keep the performance unchanged, how the system resources should be rearranged"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"Those performance may be the followings:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"throughput (usually in "},{"type":"emphasis","children":[{"type":"text","content":"batch processing system"}]},{"type":"text","content":")"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"response time (usually in "},{"type":"emphasis","children":[{"type":"text","content":"online system"}]},{"type":"text","content":")"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"heading","children":[{"type":"text","content":"The Metrics "},{"type":"inlineCode","content":"#p14"}],"attributes":{"id":"the-metrics","level":3}},{"type":"paragraph","children":[{"type":"text"},{"type":"emphasis","children":[{"type":"text","content":"Averge"}]},{"type":"text","content":" is not really suitable, because it does not tell how many users experienced the delay. Usually it is better to use "},{"type":"emphasis","children":[{"type":"text","content":"percentiles"}]},{"type":"text","content":"."}]},{"type":"blockQuote","children":[{"type":"paragraph","children":[{"type":"text","content":"the "},{"type":"emphasis","children":[{"type":"text","content":"95th"}]},{"type":"text","content":", "},{"type":"emphasis","children":[{"type":"text","content":"99th"}]},{"type":"text","content":", and "},{"type":"emphasis","children":[{"type":"text","content":"99.9th"}]},{"type":"text","content":" percentiles are common (abbreviated "},{"type":"emphasis","children":[{"type":"text","content":"p95"}]},{"type":"text","content":", "},{"type":"emphasis","children":[{"type":"text","content":"p99"}]},{"type":"text","content":", and "},{"type":"emphasis","children":[{"type":"text","content":"p999"}]},{"type":"text","content":")"}]}]},{"type":"paragraph","children":[{"type":"text","content":"There is always a trade off between higher percentiles and cost. For example, in a online shoping system, the slowest request often means the heaviest payload, in other words, the one that made the most purchases-the most valuable customers. To satisfy a higher percentile means to satisfy a more valuable customer."}]},{"type":"paragraph","children":[{"type":"text","content":"Another example shows the so-called "},{"type":"emphasis","children":[{"type":"text","content":"queueing delay"}]},{"type":"text","content":" or "},{"type":"emphasis","children":[{"type":"text","content":"head-of-line blocking"}]},{"type":"text","content":". In a sequence of procedure, a slow sub-procedure which need processing ahead of others will cause a significant lag, even if its following sub-procedures are fast to process."}]},{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Tips on Test"}]},{"type":"text","content":": the example above tells that when testing the load, the client must not wait for the previous request to complete before sending the next one, because this behaviour causes shorter queue, therefore skews the measurements."}]},{"type":"heading","children":[{"type":"text","content":"Cope with Load "},{"type":"inlineCode","content":"#p17"}],"attributes":{"id":"cope-with-load","level":2}},{"type":"paragraph","children":[{"type":"text","content":"The only way to cope with the load is to "},{"type":"strong","children":[{"type":"text","content":"increase"}]},{"type":"text","content":" resources. While in terms of increase, there are two ways: "},{"type":"strong","children":[{"type":"text","content":"scaling up"}]},{"type":"text","content":" and "},{"type":"strong","children":[{"type":"text","content":"scaling out"}]},{"type":"text","content":"."}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Scaling up, also known as "},{"type":"strong","children":[{"type":"text","content":"vertical scaling"}]},{"type":"text","content":", means to use a more powerful machine"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Scaling out, also known as "},{"type":"strong","children":[{"type":"text","content":"horizontal scaling"}]},{"type":"text","content":", means to use more machines"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"A system supports horizontal scaling is called "},{"type":"emphasis","children":[{"type":"text","content":"distributed system"}]},{"type":"text","content":". Usually it requires a "},{"type":"emphasis","children":[{"type":"text","content":"shared-nothing"}]},{"type":"text","content":" architecture, also called "},{"type":"emphasis","children":[{"type":"text","content":"stateless"}]},{"type":"text","content":" architecture. Although it is possible and feasible to apply "},{"type":"emphasis","children":[{"type":"text","content":"stateful"}]},{"type":"text","content":" architecture on distributed system, it is not easy. Therefore that requires comprehensive and detailed consideration. Therefore, in practice, it is a convention that to scale up on stateful services, and to scale out on stateless services."}]},{"type":"heading","children":[{"type":"text","content":"Variant Loads "},{"type":"inlineCode","content":"#p18"}],"attributes":{"id":"variant-loads","level":3}},{"type":"paragraph","children":[{"type":"text","content":"There are variant loads to cope with, e.g."}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"volume of reads"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"volume of writes"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"volume of data to store"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"complexity of data"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"response time"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"access patterns"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"..."}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"Due to this diversity, there is no one-size-fits-all scalable architecture. Even though they are specific to a particular application, scalable architectures are nevertheless usually built from general-purpose building blocks, arranged in familiar\npatterns, which will be discussed later."}]}],"attributes":{"date":"2025-09-10","tags":["book","designing data intensive applications"],"title":"Scalablity"}}