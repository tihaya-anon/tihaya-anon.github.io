{"version":3,"file":"loading-card-YvnSK3GL.js","sources":["../../frontend/src/components/ui/card.tsx","../../frontend/src/components/flex-card.tsx","../../frontend/src/api/card-api.ts","../../frontend/src/components/ui/skeleton.tsx","../../frontend/src/components/loading-card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n","import { cn } from \"@/lib/utils\";\r\nimport { Card, CardContent, CardFooter, CardHeader } from \"#/ui/card\";\r\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport { cva } from \"class-variance-authority\";\r\n\r\nconst cardVariants = cva(\"flex flex-col transition-all duration-300\", {\r\n  variants: {\r\n    position: {\r\n      current: \"z-10 scale-100 opacity-100\",\r\n      prev: \"absolute z-0 -translate-x-[80%] scale-90 opacity-70\",\r\n      next: \"absolute z-0 translate-x-[80%] scale-90 opacity-70\",\r\n      hidden: \"absolute z-0 opacity-0 scale-75\",\r\n    },\r\n  },\r\n  defaultVariants: {\r\n    position: \"current\",\r\n  },\r\n});\r\n\r\nexport default function FlexCard({\r\n  className,\r\n  children,\r\n  header,\r\n  footer,\r\n  position = \"current\",\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  header?: React.ReactNode;\r\n  footer?: React.ReactNode;\r\n  position?: \"current\" | \"prev\" | \"next\" | \"hidden\";\r\n}) {\r\n  const cardRef = useRef<HTMLDivElement>(null);\r\n  const [cardStyle, setCardStyle] = useState<{ width?: string; height?: string }>({});\r\n\r\n  const calculateDimensions = () => {\r\n    if (!cardRef.current || !cardRef.current.parentElement) return;\r\n\r\n    const parentWidth = cardRef.current.parentElement.clientWidth;\r\n    const parentHeight = cardRef.current.parentElement.clientHeight;\r\n\r\n    let width = \"80%\";\r\n    const height = \"60%\";\r\n\r\n    const proportion = (parentWidth * 0.8) / (parentHeight * 0.6);\r\n\r\n    if (proportion >= 3 / 2) {\r\n      const fixedHeight = parentHeight * 0.6;\r\n      const adjustedWidth = fixedHeight * (3 / 2);\r\n      const widthPercentage = (adjustedWidth / parentWidth) * 100;\r\n      width = `${Math.min(80, widthPercentage)}%`;\r\n    } else if (proportion > 2 / 3 && proportion < 3 / 2) {\r\n      const fixedHeight = parentHeight * 0.6;\r\n      const adjustedWidth = fixedHeight * (2 / 3);\r\n      const widthPercentage = (adjustedWidth / parentWidth) * 100;\r\n      width = `${Math.min(80, widthPercentage)}%`;\r\n    }\r\n\r\n    return { width, height };\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const dimensions = calculateDimensions();\r\n    if (dimensions) {\r\n      setCardStyle(dimensions);\r\n    }\r\n  }, [children]);\r\n\r\n  useEffect(() => {\r\n    const updateDimensions = () => {\r\n      const dimensions = calculateDimensions();\r\n      if (dimensions) {\r\n        setCardStyle(dimensions);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"resize\", updateDimensions);\r\n    return () => window.removeEventListener(\"resize\", updateDimensions);\r\n  }, []);\r\n\r\n  return (\r\n    <Card ref={cardRef} className={cn(cardVariants({ position }), className)} style={cardStyle} {...props}>\r\n      {<CardHeader>{header}</CardHeader>}\r\n      <CardContent className=\"flex-grow\">{children}</CardContent>\r\n      {<CardFooter>{footer}</CardFooter>}\r\n    </Card>\r\n  );\r\n}\r\n","import { AUTHOR_NAME } from \"@/constants/strings\";\r\n\r\nexport type CardInfo = {\r\n  title?: string;\r\n  description?: string;\r\n  action?: string;\r\n  content?: string | EduInfo[];\r\n  footer?: string;\r\n};\r\nexport type EduInfo = {\r\n  school: string;\r\n  time: string;\r\n  major: string;\r\n};\r\ntype CardDatabase = {\r\n  [key: string]: CardInfo;\r\n};\r\n\r\n// Cache for storing fetched data\r\nlet cardCache: CardDatabase | null = null;\r\n\r\n// Fallback data in case fetch fails\r\nconst fallbackData: CardDatabase = {\r\n  education: {\r\n    title: \"Education\",\r\n    description: \"Education Description\",\r\n    action: \"Education Action\",\r\n    content: \"Education Content\",\r\n    footer: \"Education Footer\",\r\n  },\r\n  publish: {\r\n    title: \"Publish\",\r\n    description: \"Publish Description\",\r\n    action: \"Publish Action\",\r\n    content: \"Publish Content\",\r\n    footer: \"Publish Footer\",\r\n  },\r\n  \"self-intro\": {\r\n    title: AUTHOR_NAME,\r\n    description: \"Self Intro Description\",\r\n    content: \"Self Intro Content\",\r\n    footer: \"Self Intro Footer\",\r\n  },\r\n};\r\n\r\n// Fetch all card data from JSON database\r\nconst fetchCardData = async (): Promise<CardDatabase> => {\r\n  // Return cached data if available\r\n  if (cardCache) {\r\n    return cardCache;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(\"/data/cards-db.json\");\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to fetch card data: ${response.statusText}`);\r\n    }\r\n\r\n    const data: CardDatabase = await response.json();\r\n\r\n    // Update cache\r\n    cardCache = data;\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching card data:\", error);\r\n    // Return fallback data if fetch fails\r\n    return fallbackData;\r\n  }\r\n};\r\n\r\n// Get specific card info by key\r\nconst getCardInfo = async (key: string): Promise<CardInfo> => {\r\n  const data = await fetchCardData();\r\n  return data[key] || {};\r\n};\r\n\r\n// Specific card getter functions\r\nconst getEduInfo = async (): Promise<CardInfo> => {\r\n  return getCardInfo(\"education\");\r\n};\r\n\r\nconst getPublishInfo = async (): Promise<CardInfo> => {\r\n  return getCardInfo(\"publish\");\r\n};\r\n\r\nconst getSelfIntroInfo = async (): Promise<CardInfo> => {\r\n  const cardInfo = await getCardInfo(\"self-intro\");\r\n  if (!cardInfo.title) {\r\n    cardInfo.title = AUTHOR_NAME;\r\n  }\r\n  return cardInfo;\r\n};\r\n\r\nexport { getEduInfo, getPublishInfo, getSelfIntroInfo };\r\n","import { cn } from \"@/lib/utils\"\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"skeleton\"\r\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n","import FlexCard from \"#/flex-card\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nexport default function LoadingCard(props: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <FlexCard {...props} header={<Skeleton className=\"w-full h-12\" />} footer={<Skeleton className=\"w-full h-12\" />}>\r\n      <div className=\"flex flex-col gap-2\">\r\n        <Skeleton className=\"w-full h-4\" />\r\n        <Skeleton className=\"w-full h-4\" />\r\n        <Skeleton className=\"w-full h-4\" />\r\n        <Skeleton className=\"w-full h-4\" />\r\n      </div>\r\n    </FlexCard>\r\n  );\r\n}\r\n"],"names":["Card","className","props","jsx","cn","CardHeader","CardTitle","CardDescription","CardAction","CardContent","CardFooter","cardVariants","cva","FlexCard","children","header","footer","position","cardRef","useRef","cardStyle","setCardStyle","useState","calculateDimensions","parentWidth","parentHeight","width","height","proportion","widthPercentage","useLayoutEffect","dimensions","useEffect","updateDimensions","cardCache","fallbackData","AUTHOR_NAME","fetchCardData","response","data","error","getCardInfo","key","getEduInfo","getSelfIntroInfo","cardInfo","Skeleton","LoadingCard","jsxs"],"mappings":"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"}