{"type":"document","children":[{"type":"heading","children":[{"type":"text","content":"An Example "},{"type":"emphasis","children":[{"type":"text","content":"p30"}]}],"attributes":{"id":"an-example-p30","level":1}},{"type":"paragraph","children":[{"type":"text","content":"Here's a resume of Bill Gates"}]},{"type":"heading","children":[{"type":"text","content":"Resume "},{"type":"emphasis","children":[{"type":"text","content":"p31"}]}],"attributes":{"id":"resume-p31","level":2}},{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Bill Gates"}]},{"type":"text","content":"\nGreater Seattle Area | Philanthropy\n"},{"type":"strong","children":[{"type":"text","content":"Summary"}]},{"type":"text","content":"\nCo-chair of the Bill \u0026 Melinda Gates... Active blogger.\n"},{"type":"strong","children":[{"type":"text","content":"Experience"}]},{"type":"text","content":"\n"},{"type":"inlineCode","content":"Co-chair"},{"type":"text","content":" Bill \u0026 Melinda Gates Foundation\n"},{"type":"emphasis","children":[{"type":"text","content":"2000-Present"}]},{"type":"text","content":"\n"},{"type":"inlineCode","content":"Co-founder, Chairman"},{"type":"text","content":" Microsoft\n"},{"type":"emphasis","children":[{"type":"text","content":"1975-Present"}]},{"type":"text","content":"\n"},{"type":"strong","children":[{"type":"text","content":"Education"}]},{"type":"text","content":"\nHarvard University\n"},{"type":"emphasis","children":[{"type":"text","content":"1973-1975"}]},{"type":"text","content":"\nLakeside School, Seattle\n"},{"type":"strong","children":[{"type":"text","content":"Contact Info"}]},{"type":"text","content":"\nBlog: thegatesnotes.com\nTwitter: @BillGates"}]},{"type":"heading","children":[{"type":"text","content":"In Relational Model "},{"type":"emphasis","children":[{"type":"text","content":"p31"}]}],"attributes":{"id":"in-relational-model-p31","level":3}},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_users"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"user_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"first_name"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"last_name"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"summary"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"251"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Bill"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Gates"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Co-chair of ... blogger"}],"attributes":{"align":"center"}}]}]}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"user_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"region_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"industry_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"photo_id"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"251"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"us:91"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"131"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"57817532"}],"attributes":{"align":"center"}}]}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_regions"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"region_name"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"us:7"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Greater Boston Area"}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"us:91"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Greater Seattle Area"}],"attributes":{"align":"center"}}]}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_industries"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"industry_name"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"43"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Financial Services"}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"48"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Construction"}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"131"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Philanthropy"}],"attributes":{"align":"center"}}]}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_positions"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"user_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"job_title"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"organization"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"458"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Co-chair"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Bill \u0026 Melinda Gates F..."}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"457"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Co-founder, Chairman"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Microsoft"}],"attributes":{"align":"center"}}]}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_education"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"user_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"school_name"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"start"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"end"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"807"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Harvard University"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"1973"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"1975"}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"806"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"Lakeside School, Seattle"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"NULL"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"NULL"}],"attributes":{"align":"center"}}]}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"inlineCode","content":"t_contact"}]},{"type":"table","children":[{"type":"tableHead","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"user_id"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"type"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"url"}],"attributes":{"align":"center"}}]}]},{"type":"tableBody","children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"155"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"blog"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"link","children":[{"type":"text","content":"http://thegatesnotes.com"}],"attributes":{"href":"http://thegatesnotes.com","title":""}}],"attributes":{"align":"center"}}]},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","content":"156"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"inlineHtml","content":"\u003cu\u003e"},{"type":"text","content":"251"},{"type":"inlineHtml","content":"\u003c/u\u003e"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text","content":"twitter"}],"attributes":{"align":"center"}},{"type":"tableCell","children":[{"type":"text"},{"type":"link","children":[{"type":"text","content":"http://twitter.com/BillGates"}],"attributes":{"href":"http://twitter.com/BillGates","title":""}}],"attributes":{"align":"center"}}]}]}]},{"type":"heading","children":[{"type":"text","content":"In Document Model "},{"type":"emphasis","children":[{"type":"text","content":"p31"}]}],"attributes":{"id":"in-document-model-p31","level":3}},{"type":"codeBlock","content":"{\n  \"user_id\":     251,\n  \"first_name\":  \"Bill\",\n  \"last_name\":   \"Gates\",\n  \"summary\":     \"Co-chair of the Bill \u0026 Melinda Gates... Active blogger.\",\n  \"region_id\":   \"us:91\",\n  \"industry_id\": 131,\n  \"photo_url\":   \"/p/7/000/253/05b/308dd6e.jpg\",\n \"positions\": [\n    {\"job_title\": \"Co-chair\", \"organization\": \"Bill \u0026 Melinda Gates Foundation\"},\n    {\"job_title\": \"Co-founder, Chairman\", \"organization\": \"Microsoft\"}\n  ],\n  \"education\": [\n    {\"school_name\": \"Harvard University\",       \"start\": 1973, \"end\": 1975},\n    {\"school_name\": \"Lakeside School, Seattle\", \"start\": null, \"end\": null}\n  ],\n  \"contact_info\": {\n    \"blog\":    \"http://thegatesnotes.com\",\n    \"twitter\": \"http://twitter.com/BillGates\"\n  }\n}\n","attributes":{"language":"json"}},{"type":"heading","children":[{"type":"text","content":"Comparison"}],"attributes":{"id":"comparison","level":1}},{"type":"heading","children":[{"type":"text","content":"CURD performance "},{"type":"emphasis","children":[{"type":"text","content":"p32"}]}],"attributes":{"id":"curd-performance-p32","level":2}},{"type":"paragraph","children":[{"type":"text","content":"Compare the Relational Model and the Document Model, when we are handling a tree-like structure, the Document Model often has better "},{"type":"emphasis","children":[{"type":"text","content":"locality"}]},{"type":"text","content":" than the Relational Model. The query and update/insert can be executed in one place when apply Relational Model."}]},{"type":"heading","children":[{"type":"text","content":"Locality "},{"type":"emphasis","children":[{"type":"text","content":"p41"}]}],"attributes":{"id":"locality-p41","level":2}},{"type":"paragraph","children":[{"type":"text","content":"Since Document Model is usually stored as a single continuous string, encoded as JSON or so, everytime query that data we need to load the document. So it is recommended to keep each document fairly small in terms of "},{"type":"emphasis","children":[{"type":"text","content":"storage locality"}]},{"type":"text","content":". Relational Model will not meet this situation since it is not necessary for it to load the entire table to execute CURD operations."}]},{"type":"heading","children":[{"type":"text","content":"Conclusion"}],"attributes":{"id":"conclusion","level":1}},{"type":"paragraph","children":[{"type":"text","content":"We can notice that when Relational Model handle the "},{"type":"inlineCode","content":"one-to-many"},{"type":"text","content":" relationship or "},{"type":"inlineCode","content":"many-to-many"},{"type":"text","content":"(actually this relationship should be split into "},{"type":"inlineCode","content":"one-to-many"},{"type":"text","content":" relationships), it needs more tables, along with many "},{"type":"inlineCode","content":"foreign keys"},{"type":"text","content":" to combine the data. But in Document Model, everything is arranged like a tree structure.\nThe Relational Model is good at handling "},{"type":"inlineCode","content":"one-to-many"},{"type":"text","content":" relationship, but it is impossible for it to handle "},{"type":"inlineCode","content":"many-to-many"},{"type":"text","content":" relationship. While there are situations that we do not need handle "},{"type":"inlineCode","content":"many-to-many"},{"type":"text","content":" relationship at all, so it is feasible to apply the Document Model."}]}],"attributes":{"date":"2025-09-11","tags":["book","designing data intensive applications"],"title":"Relational Model Versus Document Model"}}